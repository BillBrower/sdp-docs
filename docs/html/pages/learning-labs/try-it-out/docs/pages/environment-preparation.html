

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Environment Preparation &mdash; Solutions Delivery Platform  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="SDP Overview" href="sdp-overview.html" />
    <link rel="prev" title="Try It Out" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Solutions Delivery Platform
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Components</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://jenkinsci.github.io/templating-engine-plugin">Jenkins Templating Engine</a></li>
<li class="toctree-l1"><a class="reference external" href="https://boozallen.github.io/sdp-libraries">Pipeline Libraries</a></li>
</ul>
<p class="caption"><span class="caption-text">Deployment Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../deployment-guides/openshift/index.html">OpenShift</a></li>
</ul>
<p class="caption"><span class="caption-text">Learning Labs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Try It Out</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Environment Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sdp-overview.html">SDP Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="pipeline-configuration-file.html">Understanding the Pipeline Configuration File</a></li>
<li class="toctree-l2"><a class="reference internal" href="jenkinsfile.html">Understanding the Jenkinsfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-github-credentials.html">Create Jenkins Credentials for GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="run-jenkins-build.html">Run the Jenkins Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../local-development/index.html">Local Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jte-the-basics/index.html">JTE: The Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jte-primitives/index.html">JTE: Pipeline Primitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jte-advanced-features/index.html">JTE: Advanced Features</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../how-to/helm-multitenancy.html">Helm Multitenancy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../how-to/add_jenkins_credentials.html">Add Credentials to Jenkins</a></li>
<li class="toctree-l1"><a class="reference external" href="https://help.github.com/articles/creating-a-new-organization-from-scratch/">Create a GitHub Organization</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.twistlock.com/2018/05/08/securing-containers-red-hat-openshift-twistlock-deployment-script/">Deploy Twistlock to OpenShift</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Solutions Delivery Platform</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Try It Out</a> &raquo;</li>
        
      <li>Environment Preparation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/pages/learning-labs/try-it-out/docs/pages/environment-preparation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment-preparation">
<h1>Environment Preparation<a class="headerlink" href="#environment-preparation" title="Permalink to this headline">¶</a></h1>
<p>In this section, you will be deploying all of the DevOps tools that we will be using throughout this tutorial.
The following table lists each tool that will be used and their general purpose.</p>
<table border="1" class="docutils align-center" id="id4">
<caption><span class="caption-text">DevOps Tooling</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tool</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="https://docs.docker.com/registry/">(Insecure) Docker Registry</a></td>
<td>Container Image Registry used to store and retrieve Docker images</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="https://jenkins.io/">Jenkins</a></td>
<td>An open-source CI/CD server used to execute the pipeline</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="https://www.sonarqube.org/about/">SonarQube Server</a></td>
<td>A static code analysis tool used to scan code for potential security vulnerabilities, bugs, and code smells</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The tools that we will be utilizing throughout this tutorial are not fully secure
or highly available and thus <strong>not production-ready</strong>. Their configuration in this
lab is meant strictly for local development to try out SDP.</p>
</div>
<div class="section" id="step-1-register-the-insecure-docker-registry">
<h2>Step 1: Register The Insecure Docker Registry<a class="headerlink" href="#step-1-register-the-insecure-docker-registry" title="Permalink to this headline">¶</a></h2>
<p>To push and pull images from the local registry to be deployed, you’ll need to register it as
an insecure registry on your machine.  Modify your docker preferences to add
<code class="docutils literal notranslate"><span class="pre">0.0.0.0:5000</span></code> as an insecure registry.</p>
<p>Follow the instructions under the section labeled “Deploy a plain HTTP registry” found
<a class="reference external" href="https://docs.docker.com/registry/insecure/#deploy-a-plain-http-registry">here</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The URL of the Docker registry should <strong>not</strong> be preceded by <code class="docutils literal notranslate"><span class="pre">http://</span></code> when
being added to the list of insecure registries.</p>
</div>
<p>Make sure to apply the changes and restart your docker daemon in order for these
changes to take effect.</p>
</div>
<div class="section" id="step-2-clone-the-learning-labs-repository-application">
<h2>Step 2: Clone the Learning Labs Repository Application<a class="headerlink" href="#step-2-clone-the-learning-labs-repository-application" title="Permalink to this headline">¶</a></h2>
<p>To begin, clone our <a class="reference external" href="https://github.com/boozallen/sdp-labs">SDP Learning Labs</a> GitHub repository,
which includes all of the files you’ll need to use throughout this lab.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">## cloning via ssh</span>
git clone git@github.com:boozallen/sdp-labs.git

<span class="c1">## cloning via https</span>
git clone https://github.com/boozallen/sdp-labs.git
</pre></div>
</div>
<p>In your terminal, navigate to the <code class="docutils literal notranslate"><span class="pre">sdp-labs</span></code> directory that you just cloned from GitHub.</p>
</div>
<div class="section" id="step-3-deploy-the-tools">
<h2>Step 3: Deploy The Tools<a class="headerlink" href="#step-3-deploy-the-tools" title="Permalink to this headline">¶</a></h2>
<p>We’ll be using <a class="reference external" href="https://docs.docker.com/compose/">docker compose</a> to deploy these tools locally.</p>
<p>Run the following command in your terminal from the root directory of the <code class="docutils literal notranslate"><span class="pre">sdp-labs</span></code> repository
to deploy the Docker containers using the provided docker-compose.yaml file within the <code class="docutils literal notranslate"><span class="pre">try-it-out</span></code>
directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker-compose -f ./try-it-out/docker-compose.yaml up --build -d --scale sonar-scanner<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">docker-compose</span></code> command run above may not work on Booz Allen’s WiFi depending on its
firewall settings, so you may need to run it on a private network or where firewall rules are more lax.</p>
</div>
<p>The above command will create and run the following Docker containers:
Jenkins, a Docker registry, and SonarQube.</p>
</div>
<div class="section" id="step-4-validate-the-deployment">
<h2>Step 4: Validate the Deployment<a class="headerlink" href="#step-4-validate-the-deployment" title="Permalink to this headline">¶</a></h2>
<p>Let’s verify that each tool was successfully deployed.</p>
<p><strong>Docker Registry</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">Navigate <a class="reference external" href="http://localhost:5000/v2/_catalog">here</a>.</div>
<div class="line">You should see the following screen:</div>
</div>
<img alt="../../../../../_images/docker_registry.png" src="../../../../../_images/docker_registry.png" />
</div></blockquote>
<p><strong>Jenkins</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">Navigate <a class="reference external" href="http://localhost:8080">here</a>.</div>
<div class="line">You should see the following screen:</div>
</div>
<img alt="../../../../../_images/jenkins.png" src="../../../../../_images/jenkins.png" />
</div></blockquote>
<p><strong>SonarQube Server</strong></p>
<blockquote>
<div><div class="line-block">
<div class="line">Navigate <a class="reference external" href="http://localhost:9000">here</a>.</div>
<div class="line">You should see the following screen:</div>
</div>
<img alt="../../../../../_images/sonarqube.png" src="../../../../../_images/sonarqube.png" />
</div></blockquote>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If any of these services are not working as expected you can check out the
<a class="reference internal" href="troubleshooting.html#try-it-out-troubleshooting"><span class="std std-ref">troubleshooting</span></a> page for common problems
and their fixes.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sdp-overview.html" class="btn btn-neutral float-right" title="SDP Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Try It Out" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Booz Allen Hamilton

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-144247959-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>